<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="An gesture zoom viewing of images library specially designed for Compose Multiplatform and Android View. Supported scale, pan, locate, rotation, and super-large image subsampling."><meta name=author content="2024 panpf"><link href=https://github.com/panpf/zoomimage/zh/CHANGELOG/ rel=canonical><link href=../modifier_zoom/ rel=prev><link rel=icon href=../../images/logo.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.7"><title>Change Log - ZoomImage</title><link rel=stylesheet href=../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=JetBrains:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"JetBrains";--md-code-font:"JetBrains Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../ title=ZoomImage class="md-header__button md-logo" aria-label=ZoomImage data-md-component=logo> <img src=../../images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ZoomImage </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Change Log </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=white aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=black aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label=选择当前语言> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=../../CHANGELOG/ hreflang=en class=md-select__link> English </a> </li> <li class=md-select__item> <a href=./ hreflang=zh class=md-select__link> 中文 </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/panpf/zoomimage title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> ZoomImage </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../ title=ZoomImage class="md-nav__button md-logo" aria-label=ZoomImage data-md-component=logo> <img src=../../images/logo.png alt=logo> </a> ZoomImage </label> <div class=md-nav__source> <a href=https://github.com/panpf/zoomimage title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> ZoomImage </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../getting_started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../scale/ class=md-nav__link> <span class=md-ellipsis> Scale </span> </a> </li> <li class=md-nav__item> <a href=../offset/ class=md-nav__link> <span class=md-ellipsis> Offset </span> </a> </li> <li class=md-nav__item> <a href=../rotate/ class=md-nav__link> <span class=md-ellipsis> Rotate </span> </a> </li> <li class=md-nav__item> <a href=../locate/ class=md-nav__link> <span class=md-ellipsis> Locate </span> </a> </li> <li class=md-nav__item> <a href=../readmode/ class=md-nav__link> <span class=md-ellipsis> Read Mode </span> </a> </li> <li class=md-nav__item> <a href=../click/ class=md-nav__link> <span class=md-ellipsis> Click </span> </a> </li> <li class=md-nav__item> <a href=../subsampling/ class=md-nav__link> <span class=md-ellipsis> Subsampling </span> </a> </li> <li class=md-nav__item> <a href=../scrollbar/ class=md-nav__link> <span class=md-ellipsis> Scroll Bar </span> </a> </li> <li class=md-nav__item> <a href=../log/ class=md-nav__link> <span class=md-ellipsis> Log </span> </a> </li> <li class=md-nav__item> <a href=../modifier_zoom/ class=md-nav__link> <span class=md-ellipsis> Modifier.zoom() </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Change Log </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Change Log </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#112 class=md-nav__link> <span class=md-ellipsis> 1.1.2 </span> </a> </li> <li class=md-nav__item> <a href=#111 class=md-nav__link> <span class=md-ellipsis> 1.1.1 </span> </a> </li> <li class=md-nav__item> <a href=#110-stable class=md-nav__link> <span class=md-ellipsis> 1.1.0 Stable </span> </a> </li> <li class=md-nav__item> <a href=#110-rc03 class=md-nav__link> <span class=md-ellipsis> 1.1.0-rc03 </span> </a> </li> <li class=md-nav__item> <a href=#110-rc02 class=md-nav__link> <span class=md-ellipsis> 1.1.0-rc02 </span> </a> </li> <li class=md-nav__item> <a href=#110-rc01 class=md-nav__link> <span class=md-ellipsis> 1.1.0-rc01 </span> </a> </li> <li class=md-nav__item> <a href=#110-beta01 class=md-nav__link> <span class=md-ellipsis> 1.1.0-beta01 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha06 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha06 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha05 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha05 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha04 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha04 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha03 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha03 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha02 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha02 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha01 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha01 </span> </a> </li> <li class=md-nav__item> <a href=#v102 class=md-nav__link> <span class=md-ellipsis> v1.0.2 </span> </a> </li> <li class=md-nav__item> <a href=#v101 class=md-nav__link> <span class=md-ellipsis> v1.0.1 </span> </a> </li> <li class=md-nav__item> <a href=#100 class=md-nav__link> <span class=md-ellipsis> 1.0.0 </span> </a> </li> <li class=md-nav__item> <a href=#v100-rc01 class=md-nav__link> <span class=md-ellipsis> v1.0.0-rc01 </span> </a> </li> <li class=md-nav__item> <a href=#v100-beta11 class=md-nav__link> <span class=md-ellipsis> v1.0.0-beta11 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta10 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta10 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta09 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta09 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta08 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta08 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta07 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta07 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta06 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta06 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta05 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta05 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta04 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta04 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta03 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta03 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta02 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta02 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta01 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta01 </span> </a> </li> <li class=md-nav__item> <a href=#100-alpha03 class=md-nav__link> <span class=md-ellipsis> 1.0.0-alpha03 </span> </a> </li> <li class=md-nav__item> <a href=#100-alpha02 class=md-nav__link> <span class=md-ellipsis> 1.0.0-alpha02 </span> </a> </li> <li class=md-nav__item> <a href=#100-alpha01 class=md-nav__link> <span class=md-ellipsis> 1.0.0-alpha01 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#112 class=md-nav__link> <span class=md-ellipsis> 1.1.2 </span> </a> </li> <li class=md-nav__item> <a href=#111 class=md-nav__link> <span class=md-ellipsis> 1.1.1 </span> </a> </li> <li class=md-nav__item> <a href=#110-stable class=md-nav__link> <span class=md-ellipsis> 1.1.0 Stable </span> </a> </li> <li class=md-nav__item> <a href=#110-rc03 class=md-nav__link> <span class=md-ellipsis> 1.1.0-rc03 </span> </a> </li> <li class=md-nav__item> <a href=#110-rc02 class=md-nav__link> <span class=md-ellipsis> 1.1.0-rc02 </span> </a> </li> <li class=md-nav__item> <a href=#110-rc01 class=md-nav__link> <span class=md-ellipsis> 1.1.0-rc01 </span> </a> </li> <li class=md-nav__item> <a href=#110-beta01 class=md-nav__link> <span class=md-ellipsis> 1.1.0-beta01 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha06 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha06 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha05 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha05 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha04 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha04 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha03 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha03 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha02 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha02 </span> </a> </li> <li class=md-nav__item> <a href=#110-alpha01 class=md-nav__link> <span class=md-ellipsis> 1.1.0-alpha01 </span> </a> </li> <li class=md-nav__item> <a href=#v102 class=md-nav__link> <span class=md-ellipsis> v1.0.2 </span> </a> </li> <li class=md-nav__item> <a href=#v101 class=md-nav__link> <span class=md-ellipsis> v1.0.1 </span> </a> </li> <li class=md-nav__item> <a href=#100 class=md-nav__link> <span class=md-ellipsis> 1.0.0 </span> </a> </li> <li class=md-nav__item> <a href=#v100-rc01 class=md-nav__link> <span class=md-ellipsis> v1.0.0-rc01 </span> </a> </li> <li class=md-nav__item> <a href=#v100-beta11 class=md-nav__link> <span class=md-ellipsis> v1.0.0-beta11 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta10 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta10 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta09 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta09 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta08 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta08 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta07 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta07 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta06 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta06 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta05 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta05 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta04 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta04 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta03 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta03 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta02 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta02 </span> </a> </li> <li class=md-nav__item> <a href=#100-beta01 class=md-nav__link> <span class=md-ellipsis> 1.0.0-beta01 </span> </a> </li> <li class=md-nav__item> <a href=#100-alpha03 class=md-nav__link> <span class=md-ellipsis> 1.0.0-alpha03 </span> </a> </li> <li class=md-nav__item> <a href=#100-alpha02 class=md-nav__link> <span class=md-ellipsis> 1.0.0-alpha02 </span> </a> </li> <li class=md-nav__item> <a href=#100-alpha01 class=md-nav__link> <span class=md-ellipsis> 1.0.0-alpha01 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=_1>更新日志<a class=headerlink href=#_1 title="Permanent link">&para;</a></h1> <p>翻译：<a href=./ >English</a></p> <h2 id=112>1.1.2<a class=headerlink href=#112 title="Permanent link">&para;</a></h2> <p>subsampling:</p> <ul> <li>fix: 捕获 close 异常。 <a href=https://github.com/panpf/zoomimage/issues/75>#75</a></li> </ul> <h2 id=111>1.1.1<a class=headerlink href=#111 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>improve: 现在 ZoomableState 和 ZoomableEngine 都是基于 ZoomableCore 的包装器</li> <li>new: ZoomableState 和 ZoomableEngine 新增 contentBaseDisplayRectF、contentBaseVisibleRectF、contentDisplayRectF、contentVisibleRectF、userOffsetBoundsRectF 属性，scale() 和 switchScale() 方法增加 centroidContentPointF 参数，增加 locate(Offset) 、touchPointToContentPointF 方法</li> </ul> <p>subsampling:</p> <ul> <li>fix: 修复 View 版本的 Tile Bounds 颜色不正确的 bug</li> <li>improve: 现在 SubsamplingState 和 SubsamplingEngine 都是基于 SubsamplingCore 的包装器</li> </ul> <p>other:</p> <ul> <li>improve: 改进日志，现在更详细的日志信息例如动画过程、Tile 加载等日志级别调整为 Verbose</li> <li>depend: 升级 sketch 4.0.2</li> </ul> <h2 id=110-stable>1.1.0 Stable<a class=headerlink href=#110-stable title="Permanent link">&para;</a></h2> <blockquote> <p>[!CAUTION] 为实现支持 js 和 iOS 平台，所有 <code>remove</code> 和 <code>change</code> 标签的变更都是破坏性的</p> </blockquote> <p>zoom:</p> <ul> <li>fix: 修复 ZoomableEngine 的 contentSizeState 属性 collect 和 value 返回的值不一致的 bug。 <a href=https://github.com/panpf/zoomimage/issues/37>#37</a></li> <li>fix: 修复在 LayoutDirection 为 RTL 模式下偏移错误的 bug. <a href=https://github.com/panpf/zoomimage/issues/65>#65</a></li> <li>remove: 移除 'remember*ZoomState()' 系列函数的 logger 参数</li> <li>change: ZoomImage 系列组件禁用双指拖动手势，避免快速双指缩放后又触发 fling 导致图片漂移。 <a href=https://github.com/panpf/zoomimage/issues/28>#28</a></li> <li>change: ZoomableState 和 ZoomableEngine 的 <code>contentSize</code> 属性现在为空时不再返回 <code>containerSize</code></li> <li>change: 滚动条的最小长度现在是 10.dp</li> <li>improve: ZoomImageView 系列组件双指缩放手势现在只需滑动比较短的距离就可以触发. <a href=https://github.com/panpf/zoomimage/issues/61>#61</a></li> <li>improve: 为所有组件的 alignment 属性提供 LayoutDirection RTL 支持. <a href=https://github.com/panpf/zoomimage/issues/66>#66</a></li> <li>new: 新增支持鼠标滚轮缩放功能。 <a href=https://github.com/panpf/zoomimage/issues/35>#35</a></li> <li>new: 新增支持键盘缩放和拖动功能。 <a href=https://github.com/panpf/zoomimage/issues/42>#42</a></li> <li>new: 'remember*ZoomState()' 系列函数增加 'logLevel: Level' 参数</li> <li>new: 新增 <code>containerWhitespaceMultiple</code> 和 <code>containerWhitespace</code> 参数用于在图像边缘和容器边缘之间留出空白区域。 <a href=https://github.com/panpf/zoomimage/issues/45>#45</a></li> </ul> <p>subsampling:</p> <ul> <li>fix: 修复在遇到极端尺寸（一边特别大一边特别小）的图片时导致 Tile 地图计算异常而崩溃的 bug。 <a href=https://github.com/panpf/zoomimage/issues/32>#32</a></li> <li>fix: 修复 coil 和 glide 系列组件不支持 '/sdcard/sample.jpeg' 类型 model 的 bug。 <a href=https://github.com/panpf/zoomimage/issues/34>#34</a></li> <li>remove: 移除 TileBitmapCache 的 put() 方法的 disallowReuseBitmap 参数</li> <li>remove: 移除 BitmapFrom</li> <li>change: 移除 ignoreExifOrientation 属性</li> <li>change: 移除 disabledTileBitmapReuse 和 TileBitmapPool 属性</li> <li>change: 非安卓平台现在使用 Skia 解码图片</li> <li>change: 用 Jetbrains Lifecycle 代替 StoppedController</li> <li>change: ImageSource 现在使用 okio 的 Source 代替 InputStream</li> <li>change: 桌面平台的 ImageSource.fromResource() 改为 fromKotlinResource()</li> <li>change: ImageSource.fromFile(File) 现在是 JVM 平台专属的扩展函数</li> <li>change: 移除 ImageSource 的 openSource() 方法的 suspend 修饰符，需要 suspend 的话请使用 ImageSource.Factory</li> <li>change: 现在不再根据缩略图的图像请求的内存缓存设置来决定是否禁用 Tile 的内存缓存</li> <li>change: SubsamplingState.disabledTileBitmapCache 重命名为 disabledTileImageCache</li> <li>change: SubsamplingState.tileBitmapCache 重命名为 tileImageCache</li> <li>change: SubsamplingEngine.disabledTileBitmapCacheState 重命名为 disabledTileImageCacheState</li> <li>change: SubsamplingEngine.tileBitmapCacheState 重命名为 tileImageCacheState</li> <li>improve: 放宽缩略图和原图的宽高比限制。 <a href=https://github.com/panpf/zoomimage/issues/22>#22</a></li> <li>improve: 改进 BitmapRegionDecoderDecodeHelper，现在只会在销毁时关闭输入流。 <a href=https://github.com/panpf/zoomimage/issues/29>#29</a></li> <li>improve: 现在从内存中加载的图块在显示时也会有动画效果</li> <li>improve: 现在非 Android 平台在子采样时会直接忽略 gif 图片</li> <li>improve: 现在只要缩略图的任意一边超过原图就无法使用子采样</li> <li>improve: 改进 SketchZoomImageview、CoilZoomImageView、GlideZoomImageView、PicassoZoomImageView，现在设置 ImageSource 时只要失败就会清空 ImageSource</li> <li>improve: 改进 sketch 系列组件，子采样初始化完成后不会再重置变焦。 <a href=https://github.com/panpf/zoomimage/issues/50>#50</a></li> <li>improve: 现在 Sketch、Coil、Glide 系列组件在设置子采样时会主动过滤动图</li> <li>new: 新增支持 js、wasmJs、iOS 平台</li> <li>new: TileBitmap 增加 bitmapFrom 属性</li> <li>new: GlideZoomAsyncImage、GlideZoomImageView、PicassoZoomImageView 支持扩展 ImageSource</li> <li>new: 新增 ImageSource.Factory 接口，用于创建 ImageSource</li> <li>new: ZoomState 和 ZoomImageView 增加 <code>setSubsamplingImage()</code> 方法，用于设置 ImageSource</li> </ul> <p>other:</p> <ul> <li>remove: 移除 Logger 的 showThreadName 参数</li> <li>remove: 移除 Logger 的 module 属性</li> <li>change: sketch-compose-coil 模块重命名为 sketch-compose-coil2，并新增 sketch-compose-coil3 模块</li> <li>change: sketch-compose-sketch 模块重命名为 sketch-compose-sketch3，并新增 sketch-compose-sketch4 模块</li> <li>change: sketch-core-coil 模块重命名为 sketch-compose-coil2，并新增 sketch-core-coil3 模块</li> <li>change: sketch-core-sketch 模块重命名为 sketch-compose-sketch3，并新增 sketch-core-sketch4 模块</li> <li>change: sketch-view-coil 模块重命名为 sketch-compose-coil2，并新增 sketch-view-coil3 模块</li> <li>change: sketch-view-sketch 模块重命名为 sketch-compose-sketch3，并新增 sketch-view-sketch4 模块</li> <li>change: Logger.DEBUG 改为 Logger.Level.Debug</li> <li>change: 现在每个组件的日志的 tag 都是单独的</li> <li>change: ZoomImage、SketchZoomAsyncImage、CoilZoomAsyncImage、GlideZoomAsyncImage 等函数的 <code>state: ZoomState</code> 参数的名字改为 <code>zoomState: ZoomState</code></li> <li>depend: 升级 kotlin 2.0.21, kotlinx coroutines 1.9.0</li> <li>depend: 升级 jetbrains compose 1.7.0, jetbrains lifecycle 2.8.3</li> <li>depend: 升级 coil 2.7.0</li> </ul> <h2 id=110-rc03>1.1.0-rc03<a class=headerlink href=#110-rc03 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>fix: 修复 containerWhitespace 导致崩溃的 bug. <a href=https://github.com/panpf/zoomimage/issues/63>#63</a></li> <li>fix: 修复在 LayoutDirection 为 RTL 模式下偏移错误的 bug. <a href=https://github.com/panpf/zoomimage/issues/65>#65</a></li> <li>improve: 为所有组件的 alignment 和 containerWhitespace 属性提供 LayoutDirection RTL 支持. <a href=https://github.com/panpf/zoomimage/issues/66>#66</a></li> </ul> <p>depend:</p> <ul> <li>depend: 升级 coil v3.0.4 版本</li> </ul> <h2 id=110-rc02>1.1.0-rc02<a class=headerlink href=#110-rc02 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>fix: 'zoomimage-compose-sketch4' 模块的 SketchZoomAsyncImage 组件始终首先在左上角显示图像，然后立即将图像移动到屏幕中央. <a href=https://github.com/panpf/zoomimage/issues/60>#60</a></li> <li>improve: ZoomImageView 系列组件双指缩放手势现在只需滑动比较短的距离就可以触发. <a href=https://github.com/panpf/zoomimage/issues/61>#61</a></li> <li>new: 新增 containerWhitespace 属性用于以像素值的方式设置容器容器四周的空白. <a href=https://github.com/panpf/zoomimage/issues/59>#59</a></li> </ul> <p>subsampling:</p> <ul> <li>improve: 改进根据 mimeType 判断是否支持区域解码，非 image 类型直接返回 false，非 Android 平台上根据 skiko 版本判断是否支持 heic、heif、avif 类型</li> </ul> <p>depend:</p> <ul> <li>depend: 升级 sketch4 v4.0.0-rc01 版本</li> </ul> <h2 id=110-rc01>1.1.0-rc01<a class=headerlink href=#110-rc01 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>new: 新增 <code>containerWhitespaceMultiple</code> 参数用于在图像边缘和容器边缘之间留出空白区域。 <a href=https://github.com/panpf/zoomimage/issues/45>#45</a></li> </ul> <p>subsampling:</p> <ul> <li>remove: 移除 BitmapFrom</li> <li>change: SubsamplingState.disabledTileBitmapCache 重命名为 disabledTileImageCache</li> <li>change: SubsamplingState.tileBitmapCache 重命名为 tileImageCache</li> <li>change: SubsamplingEngine.disabledTileBitmapCacheState 重命名为 disabledTileImageCacheState</li> <li>change: SubsamplingEngine.tileBitmapCacheState 重命名为 tileImageCacheState</li> <li>improve: 改进 sketch 系列组件，子采样初始化完成后不会再重置变焦。 <a href=https://github.com/panpf/zoomimage/issues/50>#50</a></li> <li>improve: 现在 Sketch、Coil、Glide 系列组件在设置子采样时会主动过滤动图</li> <li>new: *ZoomState 和 *ZoomImageView 新增 setSubsamplingImage() 方法用于替代 setImageSource() 方法</li> </ul> <p>other:</p> <ul> <li>change: sketch-compose-coil 模块重命名为 sketch-compose-coil3</li> <li>change: sketch-compose-coil-core 模块重命名为 sketch-compose-coil3-core</li> <li>change: sketch-compose-sketch 模块重命名为 sketch-compose-sketch4</li> <li>change: sketch-compose-sketch-core 模块重命名为 sketch-compose-sketch4-core</li> <li>change: sketch-core-coil 模块重命名为 sketch-core-coil3</li> <li>change: sketch-core-coil-core 模块重命名为 sketch-core-coil3-core</li> <li>change: sketch-core-sketch 模块重命名为 sketch-core-sketch4</li> <li>change: sketch-core-sketch-core 模块重命名为 sketch-core-sketch4-core</li> <li>change: sketch-view-coil 模块重命名为 sketch-view-coil3</li> <li>change: sketch-view-coil-core 模块重命名为 sketch-view-coil3-core</li> <li>change: sketch-view-sketch 模块重命名为 sketch-view-sketch4</li> <li>change: sketch-view-sketch-core 模块重命名为 sketch-view-sketch4-core</li> <li>depend: 升级 jetbrains compose 1.7.0, jetbrains lifecycle 2.8.3</li> </ul> <h2 id=110-beta01>1.1.0-beta01<a class=headerlink href=#110-beta01 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>change: ZoomableState 和 ZoomableEngine 的 <code>contentSize</code> 属性现在为空时不再返回 <code>containerSize</code></li> <li>change: 滚动条的最小长度现在是 10.dp</li> <li>new: 'remember*ZoomState()' 系列函数增加 'logLevel: Level' 参数</li> </ul> <p>subsampling:</p> <ul> <li>change: 现在不再根据缩略图的图像请求的内存缓存设置来决定是否禁用 Tile 的内存缓存</li> <li>improve: 改进 SketchZoomImageview、CoilZoomImageView、GlideZoomImageView、PicassoZoomImageView，现在设置 ImageSource 时只要失败就会清空 ImageSource</li> <li>new: ZoomState 和 ZoomImageView 增加 <code>setImageSource()</code> 方法，用于设置 ImageSource</li> </ul> <h2 id=110-alpha06>1.1.0-alpha06<a class=headerlink href=#110-alpha06 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>broken: 移除 'remember*ZoomState()' 系列函数的 logger 参数</li> <li>new: 新增支持鼠标滚轮缩放功能。 <a href=https://github.com/panpf/zoomimage/issues/35>#35</a></li> <li>new: 新增支持键盘缩放和拖动功能。 <a href=https://github.com/panpf/zoomimage/issues/42>#42</a></li> </ul> <p>subsampling:</p> <ul> <li>broken: CoilModelToImageSource、GlideModelToImageSource、PicassoDataToImageSource 接口的 *ToImageSource 方法添加 suspend 修饰符</li> <li>broken: 移除 SubsamplingEngine 的构造函数的 view 参数</li> </ul> <h2 id=110-alpha05>1.1.0-alpha05<a class=headerlink href=#110-alpha05 title="Permanent link">&para;</a></h2> <p>subsampling:</p> <ul> <li>change: CoilZomState 和 GlideZoomState 的 *ModelToImageSource 改为在创建时提供</li> <li>new: coil、glide、picasso 系列组件现在支持 'android.resource://example.package.name/drawable/image' 和 'android.resource://example.package.name/4125123' 类型的 model</li> </ul> <p>zoom:</p> <ul> <li>fix: 修复 ZoomableEngine 的 contentSizeState 属性 collect 和 value 返回的值不一致的 bug 。 <a href=https://github.com/panpf/zoomimage/issues/37>#37</a></li> <li>change: ZoomImage 系列组件禁用双指拖动手势，避免快速双指缩放后又触发 fling 导致图片漂移。 <a href=https://github.com/panpf/zoomimage/issues/28>#28</a></li> </ul> <p>other:</p> <ul> <li>upgrade: 升级 sketch 到 4.0.0-alpha05 版本</li> </ul> <h2 id=110-alpha04>1.1.0-alpha04<a class=headerlink href=#110-alpha04 title="Permanent link">&para;</a></h2> <p>subsampling:</p> <ul> <li>fix: 修复在遇到极端尺寸（一边特别大一边特别小）的图片时导致 Tile 地图计算异常而崩溃的 bug。 <a href=https://github.com/panpf/zoomimage/issues/32>#32</a></li> <li>fix: 修复 coil 和 glide 系列组件不支持 '/sdcard/sample.jpeg' 类型 model 的 bug。 <a href=https://github.com/panpf/zoomimage/issues/34>#34</a></li> <li>fix: 修复 ios 版 KotlinResourceImageSource 无法加载图片的 bug。 <a href=https://github.com/panpf/zoomimage/issues/36>#36</a></li> <li>improve: 现在非 Android 平台在子采样时会直接忽略 gif 图片</li> <li>improve: 现在只要缩略图的任意一边超过原图就无法使用子采样</li> </ul> <h2 id=110-alpha03>1.1.0-alpha03<a class=headerlink href=#110-alpha03 title="Permanent link">&para;</a></h2> <p>subsampling:</p> <ul> <li>fix: 修复 coil 系列的组件从 1.1.0-alpha02 版本开始无法子采样的 bug。 <a href=https://github.com/panpf/zoomimage/issues/31>#31</a></li> <li>improve: GlideModeToImageSource 和 PicassoDataToImageSource 现在是用户注册的优先</li> <li>improve: 改进 BitmapRegionDecoderDecodeHelper，现在只会在销毁时关闭输入流。 <a href=https://github.com/panpf/zoomimage/issues/29>#29</a></li> <li>improve: 现在从内存中加载的图块在显示时也会有动画效果</li> </ul> <p>zoom:</p> <ul> <li>remove: 移除 GestureType.NONE 和 ContinuousTransformType.NONE 属性</li> <li>change: SubsamplingState 的 pausedContinuousTransformType 属性名称改为 pausedContinuousTransformTypes，SubsamplingEngine 的 pausedContinuousTransformTypeState 属性名称改为 pausedContinuousTransformTypesState</li> <li>change: ZoomableState 的 disabledGestureType 属性名称改为 disabledGestureTypes，ZoomableEngine 的 disabledGestureTypeState 属性名称改为 disabledGestureTypesState</li> </ul> <h2 id=110-alpha02>1.1.0-alpha02<a class=headerlink href=#110-alpha02 title="Permanent link">&para;</a></h2> <p>subsampling:</p> <ul> <li>fix: 修复子采样并发控制失效导致短时间内多次打开 ImageSource 的 bug。 <a href=https://github.com/panpf/zoomimage/issues/29>#29</a></li> <li>change: 移除 ImageSource 的 openSource() 方法的 suspend 修饰符，需要 suspend 的话请使用 ImageSource.Factory</li> <li>improve: 放宽缩略图和原图的宽高比限制。 <a href=https://github.com/panpf/zoomimage/issues/22>#22</a></li> <li>improve: SketchImageSource、CoilImageSource、GlideHttpImageSource、PicassoHttpImageSource 现在支持从网络下载图片</li> <li>new: 新增 ImageSource.Factory 接口，用于创建 ImageSource</li> </ul> <h2 id=110-alpha01>1.1.0-alpha01<a class=headerlink href=#110-alpha01 title="Permanent link">&para;</a></h2> <blockquote> <p>[!CAUTION] 为实现支持 js 和 iOS 平台，所有 <code>remove</code> 和 <code>change</code> 标签的变更都是破坏性的</p> </blockquote> <p>subsampling:</p> <ul> <li>remove: 移除 TileBitmapCache 的 put() 方法的 disallowReuseBitmap 参数</li> <li>change: 移除 ignoreExifOrientation 属性</li> <li>change: 移除 disabledTileBitmapReuse 和 TileBitmapPool 属性</li> <li>change: 非安卓平台现在使用 Skia 解码图片</li> <li>change: 用 Jetbrains Lifecycle 代替 StoppedController</li> <li>change: ImageSource 现在使用 okio 的 Source 代替 InputStream</li> <li>change: 桌面平台的 ImageSource.fromResource() 改为 fromKotlinResource()</li> <li>change: ImageSource.fromFile(File) 现在是 JVM 平台专属的扩展函数</li> <li>new: 新增支持 js、wasmJs、iOS 平台</li> <li>new: TileBitmap 增加 bitmapFrom 属性</li> <li>new: GlideZoomAsyncImage、GlideZoomImageView、PicassoZoomImageView 支持扩展 ImageSource</li> </ul> <p>other:</p> <ul> <li>remove: 移除 Logger 的 showThreadName 参数</li> <li>remove: 移除 Logger 的 module 属性</li> <li>change: Logger.DEBUG 改为 Logger.Level.Debug</li> <li>change: 现在每个组件的日志的 tag 都是单独的</li> <li>change: zoomimage-view-sketch 和 zoomimage-compose-sketch 模块升级到 sketch4，同时新增 zoomimage-view-sketch3 和 zoomimage-compose-sketch3 模块继续支持 sketch3</li> <li>change: zoomimage-view-coil 和 zoomimage-compose-coil 模块升级到 coil3，同时新增 zoomimage-view-coil2 和 zoomimage-compose-coil2 模块继续支持 coil2</li> <li>change: ZoomImage、SketchZoomAsyncImage、CoilZoomAsyncImage、GlideZoomAsyncImage 等函数的 <code>state: ZoomState</code> 参数的名字改为 <code>zoomState: ZoomState</code></li> </ul> <h2 id=v102>v1.0.2<a class=headerlink href=#v102 title="Permanent link">&para;</a></h2> <ul> <li>fix: 修复 ZoomImageView 在 API 30 及以下版本因 TypedArray.close() 方法崩溃的 bug. <a href=https://github.com/panpf/zoomimage/issues/15>#15</a></li> <li>fix: 修复 GlideZoomAsyncImage 和 GlideZoomImageView 不支持 'file:///android_asset/' 和 'file: ///sdcard/sample.jpeg' 类型 model 的 bug. <a href=https://github.com/panpf/zoomimage/issues/16>#16</a></li> <li>improve: 改进对 Picasso 的支持</li> <li>improve: 改进 ScalesCalculator.dynamic()，现在阅读模式可用时 mediumScale 始终是阅读模式的初始缩放倍数</li> </ul> <h2 id=v101>v1.0.1<a class=headerlink href=#v101 title="Permanent link">&para;</a></h2> <ul> <li>fix: 修复 ZoomImageView 在单指拖动后不松手再按下一根手指执行双指缩放手势时图像会跳动的 bug <a href=https://github.com/panpf/zoomimage/issues/12>#12</a></li> </ul> <h2 id=100>1.0.0<a class=headerlink href=#100 title="Permanent link">&para;</a></h2> <p>初始稳定版发行</p> <h2 id=v100-rc01>v1.0.0-rc01<a class=headerlink href=#v100-rc01 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>improve: 改进 ZoomableState、ZoomableEngine、SubsamplingState 和 SubsamplingEngine，现在它们都是在被记住或附到窗口时才会开始工作</li> </ul> <p>other:</p> <ul> <li>depend: 升级 sketch 3.3.0 stable</li> </ul> <h2 id=v100-beta11>v1.0.0-beta11<a class=headerlink href=#v100-beta11 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>change: ZoomableEngine 的 contentSizeState 属性现在为空时会使用 containerSizeState</li> </ul> <p>other:</p> <ul> <li>depend: 升级 sketch 3.3.0-beta06</li> <li>change: 重命名 <code>zoomimage-compose-coil-base</code> 模块为 <code>zoomimage-compose-coil-core</code></li> <li>improve: GlideZoomAsyncImage 和 GlideZoomImageView 现在支持 GlideUrl</li> </ul> <h2 id=100-beta10>1.0.0-beta10<a class=headerlink href=#100-beta10 title="Permanent link">&para;</a></h2> <ul> <li>fix: 修复 ZoomImage 无法显示滚动条的 bug</li> <li>fix: 修复 SketchZoomAsyncImage 和 CoilZoomAsyncImage 在遇到没有大小的 Drawable 时会崩溃的 bug</li> <li>fix: 修复 SketchZoomAsyncImage 和 CoilZoomAsyncImage 在 placeholder 和 result 过渡时 placeholder 会被意外的缩小的 bug</li> <li>improve: composed 迁移到 Modifier.Node</li> <li>depend: 升级 Sketch 3.3.0-beta04</li> </ul> <h2 id=100-beta09>1.0.0-beta09<a class=headerlink href=#100-beta09 title="Permanent link">&para;</a></h2> <ul> <li>fix: 修复在 Android 解码不支持的图片格式时因为 BitmapFactory.Options.outMimeType 为 null 导致的崩溃问题</li> <li>change: <code>zoomimage-core</code> 模块 minSdk 从 21 改为 16</li> </ul> <h2 id=100-beta08>1.0.0-beta08<a class=headerlink href=#100-beta08 title="Permanent link">&para;</a></h2> <ul> <li>fix: 修复 <code>zoomimage-compose-glide</code> 模块没有配置混淆导致崩溃的 bug</li> <li>change: 现在只有 <code>zoomimage-core</code> 模块生成 BuildConfig</li> <li>change: ZoomableEngine 的 scale(), rotate() 等方法加了 suspend 修饰符</li> <li>new: 新增 <code>zoomimage-compose-coil-base</code> 和 <code>zoomimage-compose-sketch-core</code> 模块，分别依赖了 Coil 和 Sketch 的非单例模块</li> <li>depend: 升级 Sketch 3.3.0-beta02</li> </ul> <h2 id=100-beta07>1.0.0-beta07<a class=headerlink href=#100-beta07 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>fix: 现在单指缩放和长按回调不会再同时触发</li> <li>fix: 修复 View 版本双击事件和长按事件以及双指缩放事件会同时触发的 bug</li> <li>fix: 修复 Compose 版的组件在 Pager 中放大并且在边缘位置触发 Pager 的滑动后往回滑动会打断 Pager 的滑动的 bug</li> <li>change: 单指缩放手势改为双击后上下拖动，并且现在默认开启</li> <li>change: OnViewTapListener 和 OnViewLongPressListener 的 x, y 参数合并成一个 OffsetCompat</li> <li>improve: 改进 calculateTiles() 函数，现在最后一格的 right 和 bottom 始终是 <code>width-1</code> 和 <code>height -1</code></li> <li>improve: 改进手势</li> </ul> <p>subsampling:</p> <ul> <li>fix: 修复桌面平台上图块之间存在间隙的 bug</li> </ul> <h2 id=100-beta06>1.0.0-beta06<a class=headerlink href=#100-beta06 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>fix: 修复 View 版本初始时能看到图像从顶部快速移到中间的过程</li> <li>fix: 修复 Compose 版本初始时能看到图像从顶部快速移到中间的过程</li> <li>fix: 修复 SketchZoomAsyncImage 和 CoilZoomAsyncImage 组件在 Pager 中快速切换时边缘部分会出现诡异的闪现图片内容的 bug</li> <li>new: 增加 HeartbeatHapticFeedback，触发单指缩放时会有类似心跳的效果</li> </ul> <p>subsampling:</p> <ul> <li>fix: 修复双击放大时，因为没有及时取消未完成的背景图块导致同一个图块会加载多次的 bug</li> <li>fix: 修复 View 版本的子采样图块因没有正确设置显示计数，导致对应位置图像显示黑色的 bug</li> <li>fix: 修复 View 版本从内存缓存中读取的图块被意外的丢弃，导致对应位置的图像模糊的 bug</li> </ul> <p>other:</p> <ul> <li>change: rememberZoomImageLogger() 函数增加 level 和 pipeline 参数</li> </ul> <h2 id=100-beta05>1.0.0-beta05<a class=headerlink href=#100-beta05 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>fix: 修复了在用户操作变换又恢复到初始状态后再调整窗口大小时偶尔内容不随窗口大小变化而缩放的 bug</li> </ul> <p>subsampling:</p> <ul> <li>remove: 删除 TileBitmap 的 size 属性</li> <li>improve: 子采样图块现在绘制在单独的组件上，避免了在桌面平台上因平台的 bug 导致内容全部丢失的问题 https://github.com/JetBrains/compose-multiplatform/issues/3904</li> <li>improve: 降低由于 containerSize 变化而导致 TileManager 重置的频率</li> <li>new: 桌面平台支持二次采样</li> <li>new: 桌面平台支持 Exif Orientation</li> </ul> <h2 id=100-beta04>1.0.0-beta04<a class=headerlink href=#100-beta04 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>change: LongPressSlide 重命名为 OneFingerScale</li> <li>improve: 现在仅容器大小变化时保持内容的缩放和可见中心不变</li> <li>new: 支持禁用手势</li> <li>new: 添加了 Modifier.zoom() 函数，可以轻松为其他组件添加缩放功能</li> </ul> <p>subsampling:</p> <ul> <li>change: 添加了 stopController 属性替代 setLifecycle() 方法</li> <li>change: 改进了一些 API 名称</li> </ul> <p>other:</p> <ul> <li>new: 支持 Compose 多平台</li> <li>change: 移除 rememberZoomImageLogger 函数的 level 参数</li> </ul> <h2 id=100-beta03>1.0.0-beta03<a class=headerlink href=#100-beta03 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>fix: 修复了calculateUserOffsetBounds函数在缩放到全屏时可能返回错误边界，导致崩溃的错误</li> <li>fix: 修复了 GlideZoomAsyncImage 会加载大于视图的位图，从而导致崩溃的错误</li> <li>improve: 升级 GlideImage 1.0.0-beta01</li> <li>improve: NoClipImage 组件重命名为 NoClipContentImage</li> </ul> <h2 id=100-beta02>1.0.0-beta02<a class=headerlink href=#100-beta02 title="Permanent link">&para;</a></h2> <p>zoom:</p> <p>fix: 修复了切换 Pager 后 ZoomImage 无法缩放的 bug new: 支持单指缩放功能</p> <h2 id=100-beta01>1.0.0-beta01<a class=headerlink href=#100-beta01 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>fix: 修复了双击缩放时 ZoomImageView 有时没有动画的错误</li> <li>change: ZoomableEngine 的公开属性现在封装在 StateFlow 中，可以直接监听</li> <li>improve: 避免在最小缩放倍数和多指触摸时触发 Pager 的滑动</li> </ul> <p>subsampling:</p> <ul> <li>fix: 修复了子采样可能失败的错误</li> <li>fix: tileGridSizeMap 属性现在返回正确的大小</li> <li>fix: 修复了 calculateTileGridMap() 函数在遇到特别小的 tileMaxSize 时引发 OutOfMemoryError 的错误</li> <li>change: SubsamplingEngine 的公开属性现在封装在 StateFlow 中，可以直接监听</li> <li>change: ImageSource.openInputStream() 方法删除 suspend 修饰符</li> <li>change: pauseWhenTransforming 改为 pausedContinuousTransformType</li> <li>improve: 改进 calculateImageLoadRect() 的结果，现在不会超过 imageSize</li> <li>improve: 图块并发加载从 4 个减少到 2 个，以减少内存占用并提高 UI 性能</li> <li>new: SubsamplingState 和 SubsamplingEngine 添加 tileGridSizeMap 属性</li> <li>new: 现在切换采样大小时，清晰度会逐渐变化，不再总是从底图过渡</li> </ul> <p>other:</p> <ul> <li>fix: 修复 level 判断错误导致日志不打印的 bug</li> <li>build: 升级 compileSdk 到 34，kotlinx-coroutines 到 1.7.3，compose 到 1.5.0</li> </ul> <h2 id=100-alpha03>1.0.0-alpha03<a class=headerlink href=#100-alpha03 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>fix: 修复了使用两根手指缩放时抬起一根手指后 ZoomImageView 会明显平移图像的错误</li> <li>fix: 修复 rotate 方法遇到负旋转角度异常的 bug</li> <li>fix: 修复了动画时间为 0 时可能崩溃的错误</li> <li>change: ScalesCalculator 现在与 ReadMode 兼容</li> <li>change: onViewTapListener 和 onViewLongPressListener 替换 registerOnViewTapListener 和 registerOnViewLongPressListener</li> <li>change: ZoomImageView 的 zoomAbility 属性重命名为 zoomable，subsamplingAbility 重命名为 subsampling</li> <li>improve: 兼容机型 MIX4、ROM版 本 14.0.6.0、Android 版本 13 环境下启用导航栏但 App 不主动适配导航栏，屏幕解锁后因 View 尺寸变化而触发重置的问题</li> <li>improve: ZoomImageView 现在支持 scaleType 是 MATRIX</li> <li>new: ZoomImageView 添加 xml 属性支持</li> </ul> <p>other:</p> <ul> <li>change: ZoomableState、SubsamplingState、ZoomableEngine 和 SubsamplingEngine 的 logger 参数改为私有</li> </ul> <h2 id=100-alpha02>1.0.0-alpha02<a class=headerlink href=#100-alpha02 title="Permanent link">&para;</a></h2> <p>zoom:</p> <ul> <li>change: ZoomableState 和 ZoomAbility 的 location() 方法重命名为 locate()</li> <li>new: ZoomImageView 添加 OnResetListener</li> </ul> <p>subsampling:</p> <ul> <li>change: SubsamplingAbility 的 registerOnTileChangedListener()、unregisterOnTileChangedListener() 方法重命名为 registerOnTileChangeListener()、unregisterOnTileChangeListener()</li> <li>change: 子采样的暂停属性重命名为停止</li> <li>new: 二次采样的图块支持动画</li> <li>new: 二次采样添加了 pauseWhenTransforming 属性</li> </ul> <h2 id=100-alpha01>1.0.0-alpha01<a class=headerlink href=#100-alpha01 title="Permanent link">&para;</a></h2> <p>初始发行</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../modifier_zoom/ class="md-footer__link md-footer__link--prev" aria-label="上一页: Modifier.zoom()"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> Modifier.zoom() </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 panpf </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/panpf/zoomimage target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.tabs", "content.code.annotate", "content.code.copy", "navigation.indexes", "navigation.sections", "navigation.expand", "navigation.footer", "navigation.instant", "navigation.tracking", "search.highlight", "search.suggest", "search.share"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>